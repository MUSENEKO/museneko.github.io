<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>PlayerY</title>
    <style>
        * {
            margin: 0px;
            padding: 0px;
        }
    </style>
</head>
<script src="https://www.musestar.top/files/hls.js"></script>
<script>
	function getQueryVariable(variable) {
		let query = window.location.search.substring(1);
		let vars = query.split("&");
		for (let i = 0; i < vars.length; i++) {
			let pair = vars[i].split("=");
			if (pair[0] === variable) {
				return pair[1];
			}
		}
		return false;
	}

	let videoR = getQueryVariable('vsrc');
	if (videoR.substring(0, 4) === 'https') {
		if (window.location.protocol !== 'https:') window.location.protocol = 'https:';
	} else {
		if (window.location.protocol !== 'http:') window.location.protocol = 'http:';
	}
</script>
<body>
<div id="dplayer"></div>
<script src="https://www.musestar.top/files/DPlayer.js"></script>
<script>
	var dp = new DPlayer({
		container: document.getElementById('dplayer'),
		hotkey: true,
		preload: 'auto',
		logo: 'https://www.musestar.top/ms.ico',
		autoplay: true,
		volume: 1.0,
		video: {
			url: 'videoR',
		},
		contextmenu: [
			{
				text: '缪斯星首页',
				link: 'https://www.musestar.top/',
			},

		],
	});
</script>
</body>
<script>
	let sercB = document.createElement('a');
	sercB.className = 'sercB';
	sercB.innerHTML = "<h1>有时长但加载不出来？点我切换播放器。</h1>";
	sercB.href = `playerQ.html?vsrc=${videoR}`;
	document.body.appendChild(sercB);
</script>
</html>
