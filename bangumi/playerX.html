<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>PlayerX</title>
	<link rel="shortcut icon" href="https://www.musestar.top/ms.ico" type="image/x-icon">
    <script>
		if (window.location.protocol !== 'http:') window.location.protocol = 'http:';
    </script>
    <script>
		function getQueryVariable(variable) {
			let query = window.location.search.substring(1);
			let vars = query.split("&");
			for (let i = 0; i < vars.length; i++) {
				let pair = vars[i].split("=");
				if (pair[0] === variable) {
					return pair[1];
				}
			}
			return false;
		}

		let idx = getQueryVariable('idx');

		let head = document.getElementsByTagName('head').item(0);

		let scrP = document.createElement('script');
		scrP.src = `//d.gqyy8.com:8077/ne2/s${idx}.js`;
		scrP.type = 'text/javascript';
		head.append(scrP);
    </script>
	<style> 
        body {
          background:url("https://dev.iw233.cn/api.php?sort=random")  no-repeat center center;   /*加载背景图*/   /* 背景图不平铺 */
          background-size:cover;  /* 让背景图基于容器大小伸缩 */
          background-attachment:fixed;        /* 当内容高度大于图片高度时，背景图像的位置相对于viewport固定 */    //此条属性必须设置否则可能无效/
          background-color:#CCCCCC;   /* 设置背景颜色，背景图加载过程中会显示背景色 */
        }
       </style>
</head>
<body>
<h1>
    没显示可能是抽风了，请刷新。
</h1>
<ul id="m3u8List">

</ul>

<script>
	let theList = document.getElementById('m3u8List');

	function runPlayer(playArr, arrName) {
		for (const teP in playArr) {
			let temLi = document.createElement('li');
			let temA = document.createElement('a');
			let vUri = playArr[teP].split(',')[0];
			temA.href = (vUri.split('.').pop() === 'html') ? ` ` : `http://www.musestar.top/animation/DPlayer.html?vsrc=${vUri}`;
			temA.innerHTML = unescape(playArr[teP].split(',')[2]);
			temLi.innerHTML = `源数组${arrName}[${teP}]:`;
			temLi.append(temA);
			theList.appendChild(temLi);
		}
	}

	function crUl() {
		theList.innerHTML = '';
	}

	let pAr;
	let isOnLo = false;

</script>
<script src="http://www.musestars.top/bangumi/runP.js"></script>
</body>
</html>
